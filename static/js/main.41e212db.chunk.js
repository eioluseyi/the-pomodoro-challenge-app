(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{23:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(12),s=n(5),r=(n(22),n(23),n(2)),i=n(4),o=n(3),l=n.p+"static/media/sound_complete.34985921.mp3",j=n(1);var u=function(e){var t=e.options,n=void 0===t?{}:t,c=Object(a.useState)(!1),s=Object(o.a)(c,2),r=s[0],i=s[1],l=Object(a.useContext)(E),u=l.resetData,b=l.handleComplete;return!!Object.values(n).length&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{className:"action-button small",style:{position:"absolute",bottom:"5px",right:"5px",boxShadow:"none"},onClick:function(){return i(!0)},children:Object(j.jsx)("i",{className:"gg-more-vertical-o"})}),Object(j.jsx)("div",{onClick:function(){return i(!1)},style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.1)",backdropFilter:"blur(2px)",display:"flex",visibility:r?"visible":"hidden",alignItems:"center",justifyContent:"center",zIndex:r?"1":"-1",color:"#555"},children:Object(j.jsxs)("div",{onClick:function(e){e.stopPropagation()},className:"modal-content-wrapper ".concat(r?"open":""),children:[(null===n||void 0===n?void 0:n.markAsDone)&&Object(j.jsxs)("button",{className:"modal-button",onClick:b,children:[Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:"gg-check"})})," ","Mark as done"]}),(null===n||void 0===n?void 0:n.reset)&&Object(j.jsxs)("button",{className:"modal-button",style:{"--ggs":"0.8"},onClick:u,children:[Object(j.jsx)("span",{children:Object(j.jsx)("i",{className:"gg-redo"})})," ","Reset"]})]})})]})};var b=function(e){var t=e.children,n=e.instruction,a=e.actionContent,c=e.options;return Object(j.jsxs)("div",{className:"module-wrapper",children:[Object(j.jsx)("div",{className:"top-content",children:t}),Object(j.jsx)("div",{className:"instruction",children:n}),a&&Object(j.jsx)("div",{className:"action-content",children:a}),Object(j.jsx)(u,{options:c})]})};var d=function(){var e=Object(a.useContext)(E),t=e.startDate,n=e.setStartDate,c=e.numberOfDays,s=e.setStep,i=e.setLocalStorageData,l=Object(a.useState)(t),u=Object(o.a)(l,2),d=u[0],O=u[1],m=new Date;m.setDate((new Date).getDate()-(c-1));var h=m.toISOString().substring(0,10),x=Object(a.useCallback)((function(){var e=(new Date).getDate()-d.getDate(),t=Array(e).fill("done");i((function(e){return Object(r.a)(Object(r.a)({},e),{},{id:"index",history:[],startDate:d,days:t})})),n(d),s("BASIC")}),[d,n,i,s]),p=Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{type:"date",className:"date-input",value:d.toISOString().substring(0,10),min:h,onChange:function(e){return O(new Date(e.target.value||new Date))}}),Object(j.jsx)("button",{className:"action-button",onClick:x,children:Object(j.jsx)("i",{className:"gg-chevron-right"})})]});return Object(j.jsx)(b,{actionContent:p,instruction:"Choose a start date",children:Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{className:"heading",children:["Hello",Object(j.jsx)("i",{style:{marginLeft:"-2px"},children:"!"})," ",Object(j.jsx)("span",{role:"img","aria-label":"wave",children:"\ud83d\udc4b"})]}),Object(j.jsx)("div",{className:"sub-title",children:"You are about to begin a new Challenge"})]})})},O=n.p+"static/media/sound_milestone.9ce19da6.mp3",m=n.p+"static/media/sound_done.e604e32c.mp3";var h=function(e){var t=e.setDone,n=e.setTimerObject,c=e.setShouldHide,s=Object(a.useState)(!1),r=Object(o.a)(s,2),i=r[0],l=r[1],u=Object(a.useState)(1200),b=Object(o.a)(u,2),d=b[0],h=b[1],x=Object(a.useState)("20 minutes"),p=Object(o.a)(x,2),f=p[0],g=p[1],v=Object(a.useState)(300),y=Object(o.a)(v,2),S=y[0],D=y[1],N=Object(a.useState)("5 minutes"),C=Object(o.a)(N,2),k=C[0],E=C[1],I=Object(a.useState)(d),w=Object(o.a)(I,2),M=w[0],T=w[1],L=Object(a.useState)(!1),P=Object(o.a)(L,2),A=P[0],B=P[1],H=Object(a.useState)("in progress"),F=Object(o.a)(H,2),J=F[0],R=F[1],Y=document.createElement("audio");Y.src=O,Y.onended=function(){return B(!1)};var _=document.createElement("audio");_.src=m;var z=Object(a.useCallback)((function(e){switch(e){case"MILESTONE":Y.play();break;case"DONE":_.play()}}),[Y,_]);Object(a.useEffect)((function(){"done"===J&&(t(!0),l(!1))}),[J,t]),Object(a.useEffect)((function(){if(i){var e=setInterval((function(){T((function(e){return e-1})),M%S!==0||A||M===d||(z("MILESTONE"),B(!0)),1===M&&(clearInterval(e),R("done"),z("DONE"))}),1e3);return function(){return clearInterval(e)}}}),[M,A,S,d,z,i]);var W=Object(a.useMemo)((function(){return Math.floor(M/60)}),[M]),q=Object(a.useMemo)((function(){return M%60}),[M]);Object(a.useEffect)((function(){return n({minutes:W.toString().padStart(2,"0"),seconds:q.toString().padStart(2,"0")})}),[W,q,n]);var G=d>M||i;return Object(a.useEffect)((function(){return c(G)}),[G,c]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"duration-interval-wrapper ".concat(G?"hide":""),children:[Object(j.jsxs)("div",{className:"di-content",children:[Object(j.jsx)("select",{className:"select",value:f,onChange:function(e){var t=0;switch(g(e.target.value),e.target.value){case"20 minutes":default:t=1200;break;case"30 minutes":t=1800;break;case"45 minutes":t=2700;break;case"60 minutes":t=3600}h(t),T(t)},children:["20 minutes","30 minutes","45 minutes","60 minutes"].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))}),Object(j.jsx)("div",{className:"di-label",children:"Duration"})]}),Object(j.jsxs)("div",{className:"di-content",children:[Object(j.jsx)("select",{className:"select",value:k,onChange:function(e){var t=0;switch(E(e.target.value),e.target.value){case"5 minutes":default:t=300;break;case"10 minutes":t=600;break;case"15 minutes":t=900;break;case"30 minutes":t=1800}D(t),B(!1)},children:["5 minutes","10 minutes","15 minutes","30 minutes"].map((function(e){return Object(j.jsx)("option",{value:e,children:e},e)}))}),Object(j.jsx)("div",{className:"di-label",children:"Interval"})]})]}),Object(j.jsxs)("div",{className:"timer-control-wrapper",children:[i?Object(j.jsx)("button",{className:"action-button",onClick:function(){l(!1)},children:Object(j.jsx)("i",{className:"gg-play-pause"})}):Object(j.jsx)("button",{className:"action-button",onClick:function(){l(!0)},children:Object(j.jsx)("i",{className:"gg-play-button"})}),Object(j.jsx)("button",{className:"action-button small ".concat(G?"":"hide"),onClick:function(){l(!1),T(d)},children:Object(j.jsx)("i",{className:"gg-play-stop"})})]})]})};var x=function(){var e,t=Object(a.useContext)(E),n=t.formattedHistory,c=t.localStorageData;return Object(j.jsxs)("div",{className:"history-wrapper",children:[Object(j.jsx)("div",{className:"history-item",children:n.map((function(e,t){return Object(j.jsx)("span",{children:e},t)}))}),null===(e=c.history)||void 0===e?void 0:e.map((function(e,t){return Object(j.jsx)("div",{className:"history-item",children:e.split(" ").map((function(e,t){return Object(j.jsx)("span",{children:e},t)}))},t)}))]})};function p(){var e=Object(a.useContext)(E).handleComplete,t=Object(a.useState)({}),n=Object(o.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)(),i=Object(o.a)(r,2),l=i[0],u=i[1],d=Object(j.jsx)("div",{style:{display:"grid",gap:"30px"},children:Object(j.jsx)(h,{setDone:e,setTimerObject:s,setShouldHide:u})}),O=Object(j.jsxs)("div",{className:"basic-instruction ".concat(l?"hide":""),children:[Object(j.jsxs)("p",{children:["Your progress so far",Object(j.jsx)("br",{})]}),Object(j.jsx)(x,{})]});return Object(j.jsx)(b,{actionContent:d,instruction:O,options:{reset:!0,markAsDone:!0},children:Object(j.jsxs)("div",{className:"timer-display-wrapper",children:[c.minutes||"00",":",c.seconds||"00"]})})}var f=Object(a.memo)(p),g=function(){var e=Object(a.useContext)(E),t=e.localStorageData,n=e.formattedHistory;return Object(j.jsx)("div",{className:"share-progress",children:Object(j.jsx)("button",{className:"action-button",onClick:function(){var e=(t.history||[]).reduce((function(e,t){return e+"\n\n"+t}),n.join(" "))+"\n\n#7DayChallenge\n#Celeforce";navigator.share?navigator.share({title:"Progress",text:e}).catch((function(e){Object(s.b)("Couldn't share for some reason")})):navigator.clipboard.writeText(e).then((function(){Object(s.b)("Copied! Share on your platform of choice.")}),(function(e){Object(s.b)("Couldn't copy for some reason")}))},children:navigator.share?Object(j.jsx)("i",{className:"gg-share",style:{marginLeft:"-10px"}}):Object(j.jsx)("i",{className:"gg-copy",style:{"--ggs":"0.8"}})})})};function v(){var e=Object(j.jsx)("div",{className:"title",children:"Share your progress"});return Object(j.jsx)(b,{actionContent:Object(j.jsx)(g,{}),instruction:e,options:{reset:!0},children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{marginBottom:"0"},children:"Awesome!"}),Object(j.jsx)("p",{style:{margin:"0 30px"},children:"You're done for the day!"}),Object(j.jsx)("h1",{style:{marginTop:"0"},children:Object(j.jsx)("span",{role:"img","aria-label":"celebrate",children:"\ud83d\ude4c"})}),Object(j.jsx)(x,{})]})})}var y=Object(a.memo)(v);var S=function(){var e=Object(a.useContext)(E),t=e.setLocalStorageData,n=e.setStartDate,c=e.formattedHistory,s=e.setStep,o=Object(j.jsx)("button",{className:"action-button",onClick:function(){var e=new Date;t((function(t){return Object(r.a)(Object(r.a)({},t),{},{history:[c.join(" ")].concat(Object(i.a)(t.history)).slice(0,2),startDate:e,days:[]})})),n(e),s("BASIC")},children:Object(j.jsx)("i",{className:"gg-repeat"})}),l=Object(j.jsxs)("div",{children:[Object(j.jsxs)("details",{style:{maxWidth:"200px",marginInline:"auto"},children:[Object(j.jsxs)("summary",{style:{cursor:"pointer",fontWeight:"900",display:""},children:["Remember the",Object(j.jsx)("span",{style:{borderBottom:"1px solid ",marginInline:"2px"},children:"Rule?"}),Object(j.jsx)("span",{role:"img","aria-label":"look",style:{marginLeft:"2px",fontSize:"120%"},children:"\ud83d\udc40"})]}),"If you miss a day, you have to start all over from ",Object(j.jsx)("b",{children:"day 1"})]}),Object(j.jsx)("br",{}),"Don't be disappointed.",Object(j.jsx)("br",{}),"Let's go again! \u270a"]});return Object(j.jsx)(b,{actionContent:o,instruction:l,children:Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{marginBottom:"0"},children:"Oh no!"}),Object(j.jsx)("p",{style:{margin:"0"},children:"You missed a day.."}),Object(j.jsx)("h1",{style:{marginTop:"0"},children:Object(j.jsx)("span",{role:"img","aria-label":"sad",children:"\ud83d\ude14"})})]})})},D=n(13),N=n.n(D);function C(){var e=Object(a.useContext)(E),t=e.handlePlay,n=e.setLocalStorageData,c=Object(j.jsx)("div",{className:"title",children:"Share your progress"});return Object(a.useEffect)((function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{completed:!0})})),t("COMPLETE")}),[]),Object(j.jsxs)(b,{actionContent:Object(j.jsx)(g,{}),instruction:c,options:{reset:!0},children:[Object(j.jsx)(N.a,{force:2}),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{style:{marginBottom:"0"},children:"Outstanding!"}),Object(j.jsx)("p",{style:{margin:"0 30px"},children:"Challenge complete!"}),Object(j.jsx)("h1",{style:{marginTop:"0"},children:Object(j.jsx)("span",{role:"img","aria-label":"celebrate",children:"\ud83c\udf89"})}),Object(j.jsx)(x,{})]})]})}var k=Object(a.memo)(C),E=Object(a.createContext)({});var I=function(){var e=Object(a.useState)("null"!==localStorage.getItem("challengeData")?JSON.parse(localStorage.getItem("challengeData")):{}),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){return e=n,localStorage.setItem("challengeData",JSON.stringify(e));var e}),[n]);var u=Object(a.useMemo)((function(){return(null===n||void 0===n?void 0:n.days)||[]}),[n]),b=Object(a.useState)((null===n||void 0===n?void 0:n.numberOfDays)||7),O=Object(o.a)(b,1)[0],m=Object(a.useState)(null!==n&&void 0!==n&&n.startDate?new Date(n.startDate):new Date("01/15/2023 6:00")),h=Object(o.a)(m,2),x=h[0],p=h[1],g=Object(a.useMemo)((function(){return(new Date).getDate()-x.getDate()}),[x]),v=Object(a.useMemo)((function(){return u.length>g}),[u,g]),D=Object(a.useCallback)((function(){var e=!1;return Array(O).fill(!0).map((function(t,n){var a="done"===u[n]?"done":g<=n||e?"undone":"missed";return"missed"===a&&(e=!0),a}))}),[u,g,O]),N=Object(a.useMemo)((function(){return D().some((function(e){return"missed"===e}))}),[D]),C=Object(a.useState)((function(){return null!==n&&void 0!==n&&n.startDate?N?"MISSED":"BASIC":"INIT"})),I=Object(o.a)(C,2),w=I[0],M=I[1];Object(a.useEffect)((function(){null!==n&&void 0!==n&&n.startDate||M("INIT")}),[n,M]);var T=Object(a.useMemo)((function(){return O?D():[]}),[O,D]),L=Object(a.useMemo)((function(){return T.map((function(e){return"done"===e?"\ud83d\udfe9":"missed"===e?"\ud83d\udfe5":"\u2b1c\ufe0f"}))}),[T]),P=document.createElement("audio");P.src=l;var A=Object(a.useCallback)((function(e){if("COMPLETE"===e)P.play()}),[P]);return Object(a.useEffect)((function(){D().every((function(e){return"done"===e}))?M("COMPLETE"):v&&M("DONE")}),[D]),Object(j.jsx)(E.Provider,{value:{formattedHistory:L,localStorageData:n,setLocalStorageData:c,startDate:x,setStartDate:p,setStep:M,resetData:function(){c({}),localStorage.clear()},handleComplete:function(){c((function(e){var t=[].concat(Object(i.a)(e.days),["done"]);return t.length<O?(Object(s.b)("Day ".concat(t.length," done! \u270a")),M("DONE")):M("COMPLETE"),Object(r.a)(Object(r.a)({},e),{},{days:t})}))},numberOfDays:O,isTodayDone:v,handlePlay:A},children:Object(j.jsxs)("div",{className:"challenge-wrapper",children:["INIT"===w&&Object(j.jsx)(d,{}),"BASIC"===w&&Object(j.jsx)(f,{}),"MISSED"===w&&Object(j.jsx)(S,{}),"DONE"===w&&Object(j.jsx)(y,{}),"COMPLETE"===w&&Object(j.jsx)(k,{})]})})};function w(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(I,{}),Object(j.jsx)(s.a,{position:"bottom-center",autoClose:5e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})}var M=document.getElementById("root");Object(c.createRoot)(M).render(Object(j.jsx)(a.StrictMode,{children:Object(j.jsx)(w,{})}))}},[[34,1,2]]]);
//# sourceMappingURL=main.41e212db.chunk.js.map